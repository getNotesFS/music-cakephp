function loadFunctions(){loadMenu();loadDatepicker();changeBoolean();loadTabs();loadMaps();loadSelect2();loadSelect2Filter();loadTinyMCE();loadTableEdit();
hidePageLoader();}function loadMenu(){$("nav .close").click(function(){$(".close").parents("nav").addClass("closed");$("#main-content").addClass("wide");
});$("nav.small .open").click(function(){$("nav:not(.small)").removeClass("closed");$("#main-content").removeClass("wide");});$("nav .accordion .header").click(function(){$(this).parents(".accordion").toggleClass("active");
});}function loadDatepicker(){$(".datepicker").datepicker({dateFormat:"dd-mm-yy"});$(".start_date").datepicker({dateFormat:"dd-mm-yy",maxDate:$(".end_date.edit").val(),onClose:function(a){$(".end_date").datepicker("option","minDate",a);
}});$(".end_date").datepicker({dateFormat:"dd-mm-yy",minDate:$(".start_date.edit").val(),onClose:function(a){$(".start_date").datepicker("option","maxDate",a);
}});}function changeBoolean(){$(".boolean .check").click(function(){registerAjaxCall("boolean");var a=$(this);var b=a.attr("id");var c=b.split("-");if(a.data().plugin){var d=admin_path+a.data().plugin+"/"+c[0].toLowerCase()+"/change_boolean/"+c[1].toLowerCase()+"/"+c[2];
}else{var d=admin_path+c[0].toLowerCase()+"/change_boolean/"+c[1].toLowerCase()+"/"+c[2];}$.post(d,function(e){a.toggleClass("checked");unregisterAjaxCall("boolean");
});});}function loadTabs(){var a=$(".tabs .header-tabs .tab:first");a.addClass("current");var b=$(".tabs .content-tabs ."+a.attr("id"));b.show();$(".tabs .header-tabs .tab").click(function(){var d=$(".tabs .header-tabs .tab.current");
var f=$(".tabs .content-tabs ."+d.attr("id"));var c=$(this);if(c.hasClass("current")){return;}var e=$(".tabs .content-tabs ."+c.attr("id"));d.removeClass("current");
c.addClass("current");f.slideUp(500);e.slideDown(500);});}function loadMaps(){$(".admin-add .map-canvas").mapsLoader({});$(".admin-form .address-search").click(function(){getCoordinates();
});$(".admin-form .map-canvas").mapsLoader({latitude:$(".admin-form .latitude").val(),longitude:$(".admin-form .longitude").val(),draggableMarker:true,zoom:15});
$(".admin-view .map-canvas").mapsLoader({latitude:$(".admin-view .latitude").val(),longitude:$(".admin-view .longitude").val(),zoom:15});}function getCoordinates(){var b=$(".admin-form .address1").val();
var c=$(".admin-form .city").val();var a=$(".admin-form .province").val();if(b==""||b=="undefined"){$(".map-canvas").mapsLoader({});}else{$(".map-canvas").mapsLoader({address:b+","+c,draggableMarker:true,zoom:15});
}}function loadSelect2(){$("select").select2({width:"100%"});}function loadSelect2Filter(){$("#entity").ready(function(){if(typeof edit!="undefined"){if(edit==0){var a=$("#entity").val();
$("#layout").empty();var b=layouts.layouts[a];$.each(b,function(d,c){$("#layout").append($("<option> </option>").attr("value",d).text(c));});}else{$("#layout").ready(function(){$("#layout option[value="+edit+"]").attr("selected",true);
});}}});$("#entity").select2().on("change",function(c){var a=$("#entity").val();$("#layout").empty();$("#layout").select2("val","");var b=layouts.layouts[a];
$.each(b,function(e,d){$("#layout").append($("<option> </option>").attr("value",e).text(d));});$("#layout").select2().first();});}function loadTinyMCE(){tinymce.init({selector:".texteditor",height:300,oninit:"setPlainText",plugins:"code link autosave image lists paste textcolor",toolbar:"undo redo | cut copy paste | styleselect | bold italic underline forecolor strikethrough | link | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent superscript | removeformat code",menubar:false,style_formats:[{title:"Título",block:"h3",attributes:{"class":"title"}},{title:"Subtítulo",block:"h4",attributes:{"class":"subtitle"}},{title:"Normal",block:"p",attributes:{"class":""}}],textcolor_map:textcolor_map,style_formats_merge:false,content_css:admin_path+"/css/vendors/tinymce/style.css",init_instance_callback:function(a){a.getBody().style.backgroundColor=colors[$("#bg-color").val()];
}});$("#bg-color").change(function(a){tinymce.activeEditor.contentDocument.body.style.backgroundColor=colors[$("#bg-color").val()];});}function updateOrderColum(){var a=1;
$(".wrapper-sortable .sortable .sort").each(function(){$(this).html(a++);});}var ajaxCalls=[];function registerAjaxCall(a){ajaxCalls.push(a);showPageLoader();
}function unregisterAjaxCall(a){for(var b=0;b<ajaxCalls.length;b++){if(ajaxCalls[b]==a){break;}}ajaxCalls.splice(b,1);if(ajaxCalls.length==0){hidePageLoader();
}}function showPageLoader(){$("#page-loader").show();}function hidePageLoader(){$("#page-loader").hide();}function loadTableEdit(){$(".results .actions .button.ajax").click(function(){var a=$(this).parents("tr").find(".admin-form");
a.submit();});}
